{"version":3,"sources":["webpack:///static/js/app.4678950dba2adc663dcd.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///vue-audio-mini.vue","webpack:///./src/main.js","webpack:///./src/components/vue-audio-mini.vue?0c2f","webpack:///./src/App.vue?a31b","webpack:///./src/components/vue-audio-mini.vue?292f"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","use","routes","exports","Component","Object","defineProperty","value","name","data","audioList","elid","elclass","state","src","methods","clickAudio","m","this","forEach","item","document","querySelector","style","transform","components","vue-audio-mini","loading","props","model","type","twoWay","callback","Function","addClass","element","className","oldClass","indexOf","removeClass","replace","RegExp","toggleAudio","init","call","audioEl","pause","currentTime","console","log","paused","play","vm","bar","process","circleProgress","audiomini","audioController","opt","removeChild","createElement","id","controls","body","appendChild","display","key","events","removeEventListener","_key","addEventListener","audioObj","waiting","timeupdate","readyState","duration","parseInt","ended","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","n","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","App","a","render","_vm","_h","$createElement","_c","_self","attrs","_l","staticStyle","margin","on","update:model","$event","staticRenderFns","staticClass","class","click","directives","rawName","expression","_v"],"mappings":"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","file":"static/js/app.4678950dba2adc663dcd.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(12);\n\n\n// import Hello from '@/components/Hello'\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [\n    // {\n    //   path: '/',\n    //   name: 'Hello',\n    //   component: Hello\n    // }\n  ]\n}));\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(7)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(4),\n  /* template */\n  __webpack_require__(10),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      audioList: [{\n        elid: \"audio-ctr-1\",\n        elclass: \"audio-ctr-1\",\n        state: -1,\n        src: \"http://lisiyizu.github.io/%E4%B9%8C%E5%85%8B%E4%B8%BD%E4%B8%BD.mp3\"\n      }, {\n\n        elid: \"audio-ctr-2\",\n        elclass: \"audio-ctr-2\",\n        state: -1,\n        src: \"http://lisiyizu.github.io/%E4%B8%8B%E4%B8%80%E7%AB%99%E5%A4%A9%E5%90%8E.mp3\"\n      }]\n    };\n  },\n\n  methods: {\n    clickAudio: function clickAudio(m) {\n      this.audioList.forEach(function (item) {\n        if (m != item) {\n          // 重置音频的进度\n          item.state = -1;\n          document.querySelector(\".\" + item.elclass + \" .bar\").style.transform = 'rotate(0deg)';\n        }\n      });\n    }\n  },\n  components: {\n    'vue-audio-mini': __webpack_require__(9)\n  }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      loading: false\n    };\n  },\n\n  name: \"vue-audio-mini\",\n  props: {\n    model: {\n      type: Object,\n      twoWay: true\n    },\n    callback: {\n      type: Function\n    }\n  },\n  methods: {\n    addClass: function addClass(element, className) {\n      var oldClass = element.className;\n      oldClass.indexOf(className) < 0 && (element.className = oldClass + \" \" + className);\n    },\n    removeClass: function removeClass(element, className) {\n      element.className = element.className.replace(new RegExp(\"\\\\s\" + className), \"\");\n    },\n    toggleAudio: function toggleAudio() {\n      // 初始化音频组件\n      if (this.model.state == -1) {\n        this.init();\n      }\n\n      if (typeof this.callback == 'function') this.callback.call(this.model, this.model);\n\n      var audioEl = document.querySelector(\"#audio-mini-controll\");\n\n      if (audioEl.src != this.model.src && audioEl.src) {\n        audioEl.pause();\n        audioEl.currentTime = 0;\n      }\n\n      console.log(audioEl.paused);\n\n      if (audioEl.paused) {\n        if (audioEl.currentTime == 0) {\n          audioEl.src = this.model.src;\n        }\n        audioEl.play();\n        this.model.state = 1;\n      } else {\n        audioEl.pause();\n        this.model.state = 0;\n      }\n    },\n    init: function init() {\n      var vm = this;\n\n      var bar = document.querySelector(\".\" + this.model.elclass + \" .bar\"),\n          fill = document.querySelector(\".\" + this.model.elclass + \" .fill\"),\n          process = 0,\n          circleProgress = document.querySelector(\".\" + this.model.elclass),\n          audiomini = document.querySelector(\"#\" + this.model.elid);\n\n      //  圆弧音频播放控件\n      var audioController = function audioController(opt) {\n        var audioEl = document.querySelector(\"#audio-mini-controll\");\n\n        if (audioEl) {\n          document.querySelector(\"body\").removeChild(document.querySelector(\"#audio-mini-controll\"));\n        }\n\n        audioEl = document.createElement('audio'); //生成一个audio元素\n        audioEl.id = 'audio-mini-controll';\n        audioEl.controls = true; //这样控件才能显示出来\n        audioEl.src = ''; //音乐的路径\n        document.body.appendChild(audioEl); //把它添加到页面中\n        audioEl.style.display = 'none';\n\n        // 移除事件\n        for (var key in opt.events) {\n          audioEl.removeEventListener(key, opt.events[key], false);\n        }\n\n        // 动态绑定事件\n        for (var _key in opt.events) {\n          audioEl.addEventListener(_key, opt.events[_key]);\n        }\n\n        return audioEl;\n      };\n\n      // 创建音频控件\n      var audioObj = new audioController({\n        src: vm.model.src,\n        events: {\n          \"play\": function play() {\n            vm.addClass(circleProgress, \"rotate\");\n          },\n          \"waiting\": function waiting() {\n            console.log(\"正在加载进度。。waiting\");\n            vm.loading = true;\n          },\n          \"timeupdate\": function timeupdate() {\n\n            console.log(audioObj.currentTime);\n\n            console.log(audioObj.readyState);\n\n            if (audioObj.readyState == 4) {\n              vm.loading = false;\n            } else if (audioObj.readyState == 2) {\n              vm.loading = true;\n            }\n\n            if (vm.model.state == -1) {\n              bar.style.transform = \"rotate(0deg)\";\n              vm.loading = false;\n              return;\n            }\n\n            //监听timeupdate事件，也就是音频当前播放进度发生改变响应的事件\n            /**\n             *  它们的比正好就是当前播放进度\n             *   再乘以360转化为进度条应该旋转的角度\n             */\n            process = audioObj.currentTime / audioObj.duration * 360;\n            parseInt(process) === 180 && vm.addClass(audiomini, \"gt50\");\n            bar.style.transform = \"rotate(\" + process + \"deg)\";\n          },\n          \"pause\": function pause() {\n            vm.removeClass(circleProgress, \"rotate\");\n          },\n          \"ended\": function ended() {\n            vm.removeClass(circleProgress, \"rotate\");\n            vm.removeClass(audiomini, \"gt50\");\n            bar.style.transform = \"rotate(0deg)\";\n          }\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(2);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(8)\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(5),\n  /* template */\n  __webpack_require__(11),\n  /* scopeId */\n  \"data-v-7cf63e57\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, _vm._l((_vm.audioList), function(item) {\n    return _c('div', {\n      staticStyle: {\n        \"margin\": \"10px\"\n      }\n    }, [_c('vue-audio-mini', {\n      attrs: {\n        \"model\": item,\n        \"callback\": _vm.clickAudio\n      },\n      on: {\n        \"update:model\": function($event) {\n          item = $event\n        }\n      }\n    })], 1)\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"circleProgress_wrapper\",\n    class: _vm.model.elclass,\n    on: {\n      \"click\": _vm.toggleAudio\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"loadingDiv\"\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"loadingAnimate\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"audiomini\",\n    attrs: {\n      \"id\": _vm.model.elid\n    }\n  }, [_c('div', {\n    staticClass: \"bar pre50\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"fill\"\n  })])])\n},staticRenderFns: []}\n\n/***/ })\n],[6]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.4678950dba2adc663dcd.js","import Vue from 'vue'\nimport Router from 'vue-router'\n// import Hello from '@/components/Hello'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    // {\n    //   path: '/',\n    //   name: 'Hello',\n    //   component: Hello\n    // }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-1e59deea\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e59deea\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 3\n// module chunks = 0","<template>\n  <div id=\"app\">\n    <div v-for='item in audioList' style='margin:10px;'>\n       <vue-audio-mini :model.sync='item' :callback='clickAudio'></vue-audio-mini>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  data(){\n    return {\n      audioList:[{\n        elid:\"audio-ctr-1\",\n        elclass:\"audio-ctr-1\",\n        state:-1,\n        src:\"http://lisiyizu.github.io/%E4%B9%8C%E5%85%8B%E4%B8%BD%E4%B8%BD.mp3\"\n      },{\n        \n        elid:\"audio-ctr-2\",\n        elclass:\"audio-ctr-2\",\n        state:-1,\n        src:\"http://lisiyizu.github.io/%E4%B8%8B%E4%B8%80%E7%AB%99%E5%A4%A9%E5%90%8E.mp3\"\n      }]\n    }\n  },\n  methods:{\n    clickAudio(m){\n      this.audioList.forEach(item=>{\n          if(m!=item) {\n            // 重置音频的进度\n            item.state=-1;\n            document.querySelector(\".\"+item.elclass+\" .bar\").style.transform='rotate(0deg)';\n          }\n      })\n    }\n  },\n  components:{\n     'vue-audio-mini':require(\"./components/vue-audio-mini.vue\")\n  }\n}\n</script>\n\n<style>\nbody{\n    background: cornflowerblue;\n}\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?d29bcb44","<style scoped>\n/*css 部分*/\n.circleProgress_wrapper{ /*设置圆环的大小*/\n  margin: auto;\n  position: relative;\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n  border-radius: 50%;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n\n.circleProgress_wrapper:before{\n  position: absolute;\n  content: \"\";\n  width: 100%;\n  height: 100%;\n  background: rgba(0,0,0,.2);\n  background-size: cover;\n  border-radius: 50%;\n}\n\n.circleProgress_wrapper.rotate:before{\n  animation:audioLogoRotate 10s linear infinite;\n}\n@keyframes audioLogoRotate{\n  0%{\n    transform: rotate(0deg)\n  }\n  100%{\n    transform: rotate(360deg);\n  }\n}\n.circleProgress_wrapper:after{\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  content: \"\";\n  width: 92px;\n  height: 92px;\n  border-radius: 50%;\n  background-color:rgba(253,253,253,0.3); \n  background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAMAAACl6XjsAAAAaVBMVEX///8AAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9ThU/0AAAAI3RSTlPMAJDBnhcQxrqzemtSOiMGAoZfLKqkjXBECoiFhGJIRi4MC3M9axoAAACkSURBVDjLrZRLDoMwDERdwKGkTSkt/X/h/ocEsZmdPVJ46ydFGdsj4VpWaeMhN5kpDp5WyEIMlCblqXW1heZnaqA6mxrolNKk3o2WBrb7o6WBPhEa4nY1qWNwNMRtaaC5exrihmbxVltD3A9HQ9zQLC5KadKRGv0o/4X8QF5KDosfff4ixbDWkvcp9wAR50Cc81OZqvkzxfVlavDTkqWaX9Fk4U9wrwfK2T44TgAAAABJRU5ErkJggg==');\n  background-repeat:no-repeat;\n  background-position:center;\n  background-size:18px 22px;\n}\n.circleProgress_wrapper.rotate:after{\n  background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAMAAAAJbCvNAAAAM1BMVEX///8AAAD///////////////////////////////////////////////////////////+Q8lQ3AAAAEXRSTlPmAOEXHcLcvrtvZlER1IyHDEwQIaQAAABJSURBVDjL7ctbEoAgDEPRBLWK4mP/q/XDIGUJzPT+NXOKY1u+1p2qm2D4ewTONhXCNQmkNs0BAgQYFrirCJj/Qa4i3VTZ6nSRL9xqAzIch8kgAAAAAElFTkSuQmCC');\n  background-size:18px 22px;\n}\n/*这是一个街区了左半部分，只显示右半部分的div*/\n.audiomini{\n  position: absolute;/*必须是绝对定位元素，clip属性才会有效*/\n  width: 100%;\n  height: 100%;\n  clip: rect(0,100px,100px,50px);\n}\n.audiomini.gt50{/*当进度超过50%时，取消裁剪*/\n  clip: rect(auto, auto, auto, auto);\n}\n.bar,.fill{/*两个只显示左半部分的半圆*/\n  position: absolute;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border: 4px rgba(255, 255, 253, 1) solid;\n  border-radius: 50%;\n  clip: rect(0, 50px, 100px, 0);\n}\n.audiomini.gt50 .fill{/*当进度超过50%时，让fill旋转180度填充50%*/\n  transform: rotate(180deg);\n}\n.loadingDiv{\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  z-index:1;\n  border-radius: 100%;\n  background-color:rgba(255, 255, 253, .6); \n}\n.loadingAnimate {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-repeat:no-repeat;\n  background-position:center;\n  z-index:2;\n  background-image:url(\"../assets/loading.gif\")\n  }\n</style>\n<template>\n<div class=\"circleProgress_wrapper\" :class='model.elclass' @click='toggleAudio'>\n  <div v-show='loading' class='loadingDiv'></div>\n  <div v-show='loading' class=\"loadingAnimate\"></div>\n  <div :id=\"model.elid\" class=\"audiomini\">\n    <div class=\"bar pre50\"></div>\n    <div class=\"fill\"></div>\n  </div>\n  \n</div>  \n</template>\n<script>\n    export default {\n      data(){\n        return {\n            loading:false\n        }\n      },\n      name:\"vue-audio-mini\",\n      props:{\n            model:{\n              type:Object,\n              twoWay:true\n            },\n            callback:{\n              type:Function\n            }\n      },\n      methods:{\n            addClass  (element, className){\n        let oldClass = element.className;\n        oldClass.indexOf(className)<0&&(element.className=oldClass+\" \"+className);\n      },\n      removeClass  (element, className){\n        element.className = element.className.replace(new RegExp(\"\\\\s\"+className),\"\");\n      },\n      toggleAudio (){\n                // 初始化音频组件\n        if(this.model.state==-1){\n           this.init();\n        }\n\n        if(typeof this.callback == 'function') this.callback.call(this.model,this.model);\n\n        let audioEl = document.querySelector(\"#audio-mini-controll\");\n\n        if(audioEl.src!=this.model.src && audioEl.src){\n          audioEl.pause();\n          audioEl.currentTime = 0;\n        }\n\n        console.log(audioEl.paused);\n\n                if(audioEl.paused){\n                  if(audioEl.currentTime==0){\n                    audioEl.src = this.model.src;\n                  }\n          audioEl.play();\n          this.model.state = 1;\n        }else{\n          audioEl.pause();\n          this.model.state = 0;\n        }\n      },\n      init(){\n        let vm = this;\n\n          let bar = document.querySelector(\".\"+this.model.elclass+\" .bar\"),\n            fill = document.querySelector(\".\"+this.model.elclass+\" .fill\"),\n          process = 0,\n          circleProgress = document.querySelector(\".\"+this.model.elclass),\n          audiomini = document.querySelector(\"#\"+this.model.elid);\n\n            //  圆弧音频播放控件\n            let audioController  = function (opt) {\n              let audioEl = document.querySelector(\"#audio-mini-controll\");\n\n              if(audioEl) {\n                document.querySelector(\"body\").removeChild(document.querySelector(\"#audio-mini-controll\"));\n              }\n\n                    audioEl = document.createElement('audio');  //生成一个audio元素\n                    audioEl.id = 'audio-mini-controll';\n          audioEl.controls = true;  //这样控件才能显示出来\n          audioEl.src = '';  //音乐的路径\n          document.body.appendChild(audioEl);  //把它添加到页面中\n                audioEl.style.display = 'none';\n                    \n                    // 移除事件\n                    for(let  key in opt.events){\n                audioEl.removeEventListener(key, opt.events[key], false);\n            }\n                    \n                    // 动态绑定事件\n              for(let  key in opt.events){\n                audioEl.addEventListener(key,  opt.events[key]);\n              }\n\n              return audioEl; \n            };\n              \n              // 创建音频控件\n        let audioObj = new audioController({\n          src: vm.model.src,\n          events: {\n            \"play\": function(){\n              vm.addClass(circleProgress, \"rotate\");\n            },\n            \"waiting\":function(){\n                console.log(\"正在加载进度。。waiting\");\n                vm.loading = true;\n            },\n            \"timeupdate\": function() {\n\n              console.log(audioObj.currentTime);\n\n              console.log(audioObj.readyState);\n\n              if(audioObj.readyState==4){\n                vm.loading = false;\n              }else if(audioObj.readyState==2) {\n                vm.loading = true;\n              }\n\n              if(vm.model.state==-1) {\n                  bar.style.transform=\"rotate(0deg)\";\n                  vm.loading = false;\n                  return;\n              }\n\n              //监听timeupdate事件，也就是音频当前播放进度发生改变响应的事件\n              /**\n               *  它们的比正好就是当前播放进度\n               *   再乘以360转化为进度条应该旋转的角度\n               */\n              process = (audioObj.currentTime / audioObj.duration) * 360;\n                parseInt(process) === 180 && vm.addClass(audiomini, \"gt50\");\n                bar.style.transform=\"rotate(\"+(process)+\"deg)\";\n            },\n            \"pause\":function(){\n              vm.removeClass(circleProgress,\"rotate\");\n            },\n            \"ended\":function(){\n              vm.removeClass(circleProgress,\"rotate\");\n              vm.removeClass(audiomini,\"gt50\");\n              bar.style.transform=\"rotate(0deg)\";\n            }\n          }\n        });\n      }\n      }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// vue-audio-mini.vue?2c90478e","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7cf63e57\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./vue-audio-mini.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./vue-audio-mini.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cf63e57\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./vue-audio-mini.vue\"),\n  /* scopeId */\n  \"data-v-7cf63e57\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/vue-audio-mini.vue\n// module id = 9\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, _vm._l((_vm.audioList), function(item) {\n    return _c('div', {\n      staticStyle: {\n        \"margin\": \"10px\"\n      }\n    }, [_c('vue-audio-mini', {\n      attrs: {\n        \"model\": item,\n        \"callback\": _vm.clickAudio\n      },\n      on: {\n        \"update:model\": function($event) {\n          item = $event\n        }\n      }\n    })], 1)\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e59deea\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 10\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"circleProgress_wrapper\",\n    class: _vm.model.elclass,\n    on: {\n      \"click\": _vm.toggleAudio\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"loadingDiv\"\n  }), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"loadingAnimate\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"audiomini\",\n    attrs: {\n      \"id\": _vm.model.elid\n    }\n  }, [_c('div', {\n    staticClass: \"bar pre50\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"fill\"\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cf63e57\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/vue-audio-mini.vue\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}